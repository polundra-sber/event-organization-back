openapi: 3.1.0
info:
  title: "Сервис помощи организации частных мероприятий"
  description: Тип - веб-приложение. Задачи - позволяет пользователям совместно планировать события, делить задачи, распределять расходы и отслеживать обязательства.
  version: 1.0.0
servers:
  - url: 'https'
paths:

components:
  schemas:

    # Мероприятие
    Event:
      type: object
      required:
        - event_id
        - event_name
        - date
        - status
      properties:
        event_id:
          type: integer
        event_name:
          type: string
          minLength: 1
          maxLength: 50
          example: Шашлыки
        event_description:
          type: string
          maxLength: 254
          example: Берите пледы и хорошее настроение!
          default: "Описание не добавлено"
        status_id:
          type: integer
        location:
          type: string
          maxLength: 100
          example: Центральный парк
          default: "Место не указано"
        event_date:
          type: string
          format: date
          example: "2025-06-12"
          description: Дата в формате YYYY-MM-DD
        event_time:
          type: string
          format: time
          example: "16:00"
          x-format: HH:MM  #кастомное расширение
          default: "Время не указано"
        chat_link:
          type: string
          maxLength: 32
          example: "https://t.me/chat_id"
          default: "Ссылка не прикреплена"

   # Пользователь
    User:
      type: object
      properties:
        user_id:
          type: integer
          example: 1123
        login:
          type: string
          minLength: 3
          maxLength: 20
          example: main_player
        password:
          type: string
          minLength: 8
          maxLength: 20
          example: An1@!#fhv11
        email:
          type: string
          minLength: 1
          maxLength: 254
          example: poposh01@mail.ru
        name:
          type: string
          minLength: 1
          maxLength: 20
          example: Алина
        surname:
          type: string
          minLength: 1
          maxLength: 50
          example: Смирнов
        comment_money_transfer:
          type: string
          maxLength: 254
          example: "На сбер: 89996362576"
      required:
        - user_id
        - login
        - password
        - email
        - name
        - surname

    # Задача
    Task:
      type: object
      properties:
        task_id:
          type: integer
          example: 143
        task_name:
          type: string
          minLength: 1
          maxLength: 50
          example: Заказать торт
        task_description:
          type: string
          maxLength: 254
          example: Торт без орехов и без апельсина
          default: "Описание не добавлено"
        status_id:
          type: integer
          example: 2
        event_id:
          type: integer
          example: 1123
        responsible_user:
          type: integer
          example: 1234
          default: "Не назначен"
        deadline_date:
          type: string
          format: date
          example: 12.06.2025
        deadline_time:
          type: string
          format: time
          example: 16:00
      required:
        - task_id
        - task_name
        - status_id
        - event_id
    # Покупка
    Purchase:
      type: object
      properties:
        purchase_id:
          type: integer
          example: 1
        purchase_name:
          type: string
          minLength: 1
          maxLength: 50
          example: Огурцы
        purchase_description:
          type: string
          maxLength: 254
          example: Купите 2кг
        cost:
          type: number
          format: float
          example: 123.99
        responsible_user:
          type: integer
          example: 11238
        event_id:
          type: integer
          example: 1123
      required:
        - purchase_id
        - name
        - event_id
    # Чек
    Receipt:
      type: object
      properties:
        receipt_id:
          type: integer
          example: 1
        file_path:
          type: string
          example: /home/user1234/public_html/images/file.png
      required:
        - receipt_id
        - file_path
    # Пользователи-мероприятия
    EventUserList:
      type: object
      properties:
        event_user_list_id:
          type: integer
          example: 1
        event_id:
          type: integer
          example: 1123
        user_id:
          type: integer
          example: 1123
        role_id:
          type: integer
          example: 1
      required:
        - event_user_list_id
        - event_id
        - user_id
        - role_id
    # Вещь
    Stuff:
      type: object
      required:
        - stuff_id
        - event_id
        - stuff_name
        - responsible_user
      properties:
        stuff_id:
          type: integer
        stuff_name:
          type: string
          minLength: 1
          maxLength: 50
          example: Веревка
        stuff_description:
          type: string
          maxLength: 254
          example: 5 метров, канатная
          default: "Описание не добавлено"
        event_id:
          type: integer
        responsible_user:
          type: integer
    # Долг
    Debt:
      type: object
      required:
        - debt_id
        - event_id
        - payer_id
        - recipient_id
        - status_id
        - debt_amount
      properties:
        debt_id:
          type: integer
        payer_id:
          type: integer
        recipient_id:
          type: integer
        status_id:
          type: integer
        debt_amount:
          type: number
          format: float
          minimum: 0
          example: 123.50
        event_id:
          type: integer
